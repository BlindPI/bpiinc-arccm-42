| table_name                  | column_name                   | data_type                | is_nullable | column_default                                                  | constraint_type | constraint_name                                   |
| --------------------------- | ----------------------------- | ------------------------ | ----------- | --------------------------------------------------------------- | --------------- | ------------------------------------------------- |
| availability_bookings       | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | availability_bookings_pkey                        |
| availability_bookings       | user_id                       | uuid                     | NO          | null                                                            | FOREIGN KEY     | availability_bookings_user_id_fkey                |
| availability_bookings       | booking_date                  | date                     | NO          | null                                                            | null            | null                                              |
| availability_bookings       | start_time                    | time without time zone   | NO          | null                                                            | null            | null                                              |
| availability_bookings       | end_time                      | time without time zone   | NO          | null                                                            | null            | null                                              |
| availability_bookings       | booking_type                  | USER-DEFINED             | NO          | null                                                            | null            | null                                              |
| availability_bookings       | course_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_course_id_fkey              |
| availability_bookings       | course_offering_id            | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_course_offering_id_fkey     |
| availability_bookings       | title                         | character varying        | NO          | null                                                            | null            | null                                              |
| availability_bookings       | description                   | text                     | YES         | null                                                            | null            | null                                              |
| availability_bookings       | hours_credited                | numeric                  | YES         | 0                                                               | null            | null                                              |
| availability_bookings       | billable_hours                | numeric                  | YES         | 0                                                               | null            | null                                              |
| availability_bookings       | status                        | character varying        | NO          | 'scheduled'::character varying                                  | null            | null                                              |
| availability_bookings       | created_by                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_created_by_fkey             |
| availability_bookings       | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| availability_bookings       | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| availability_bookings       | team_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_team_id_fkey                |
| availability_bookings       | requires_approval             | boolean                  | YES         | false                                                           | null            | null                                              |
| availability_bookings       | approved_by                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_approved_by_fkey            |
| availability_bookings       | approval_date                 | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| availability_bookings       | bulk_operation_id             | uuid                     | YES         | null                                                            | FOREIGN KEY     | availability_bookings_bulk_operation_id_fkey      |
| availability_bookings       | course_sequence               | jsonb                    | YES         | null                                                            | null            | null                                              |
| certificate_templates       | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | certificate_templates_pkey                        |
| certificate_templates       | name                          | text                     | NO          | null                                                            | null            | null                                              |
| certificate_templates       | version                       | text                     | NO          | null                                                            | null            | null                                              |
| certificate_templates       | url                           | text                     | NO          | null                                                            | null            | null                                              |
| certificate_templates       | is_default                    | boolean                  | YES         | false                                                           | null            | null                                              |
| certificate_templates       | created_by                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificate_templates_created_by_fkey             |
| certificate_templates       | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| certificates                | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | certificates_pkey                                 |
| certificates                | certificate_url               | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | status                        | text                     | NO          | 'ACTIVE'::text                                                  | null            | null                                              |
| certificates                | verification_code             | text                     | NO          | null                                                            | null            | null                                              |
| certificates                | expiry_date                   | text                     | NO          | null                                                            | null            | null                                              |
| certificates                | issue_date                    | text                     | NO          | null                                                            | null            | null                                              |
| certificates                | course_name                   | text                     | NO          | null                                                            | null            | null                                              |
| certificates                | recipient_name                | text                     | NO          | null                                                            | null            | null                                              |
| certificates                | issued_by                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificates_issued_by_fkey                       |
| certificates                | certificate_request_id        | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_certificates_certificate_request_id            |
| certificates                | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| certificates                | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| certificates                | length                        | integer                  | YES         | null                                                            | null            | null                                              |
| certificates                | template_id                   | uuid                     | YES         | null                                                            | null            | null                                              |
| certificates                | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificates_location_id_fkey                     |
| certificates                | user_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificates_user_id_fkey                         |
| certificates                | batch_id                      | uuid                     | YES         | null                                                            | null            | null                                              |
| certificates                | batch_name                    | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | roster_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificates_roster_id_fkey                       |
| certificates                | email_status                  | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | last_emailed_at               | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| certificates                | is_batch_emailed              | boolean                  | YES         | false                                                           | null            | null                                              |
| certificates                | batch_email_id                | uuid                     | YES         | null                                                            | FOREIGN KEY     | certificates_batch_email_id_fkey                  |
| certificates                | instructor_name               | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | instructor_level              | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | recipient_email               | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | generation_status             | text                     | YES         | 'COMPLETED'::text                                               | null            | null                                              |
| certificates                | thumbnail_url                 | text                     | YES         | null                                                            | null            | null                                              |
| certificates                | thumbnail_status              | text                     | YES         | 'pending'::text                                                 | null            | null                                              |
| compliance_metrics          | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | compliance_metrics_pkey                           |
| compliance_metrics          | name                          | character varying        | NO          | null                                                            | UNIQUE          | compliance_metrics_name_unique                    |
| compliance_metrics          | description                   | text                     | YES         | null                                                            | null            | null                                              |
| compliance_metrics          | category                      | character varying        | NO          | null                                                            | null            | null                                              |
| compliance_metrics          | required_for_roles            | ARRAY                    | YES         | '{}'::text[]                                                    | null            | null                                              |
| compliance_metrics          | measurement_type              | character varying        | NO          | 'boolean'::character varying                                    | null            | null                                              |
| compliance_metrics          | target_value                  | jsonb                    | YES         | null                                                            | null            | null                                              |
| compliance_metrics          | weight                        | integer                  | YES         | 1                                                               | null            | null                                              |
| compliance_metrics          | is_active                     | boolean                  | YES         | true                                                            | null            | null                                              |
| compliance_metrics          | created_by                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | compliance_metrics_created_by_fkey                |
| compliance_metrics          | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| compliance_metrics          | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| compliance_metrics          | applicable_tiers              | character varying        | YES         | 'basic,robust'::character varying                               | null            | null                                              |
| compliance_metrics          | required_for_basic            | boolean                  | YES         | false                                                           | null            | null                                              |
| compliance_metrics          | required_for_robust           | boolean                  | YES         | false                                                           | null            | null                                              |
| compliance_templates        | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | compliance_templates_pkey                         |
| compliance_templates        | role                          | character varying        | NO          | null                                                            | UNIQUE          | compliance_templates_role_tier_key                |
| compliance_templates        | tier                          | character varying        | NO          | null                                                            | UNIQUE          | compliance_templates_role_tier_key                |
| compliance_templates        | template_name                 | character varying        | NO          | null                                                            | null            | null                                              |
| compliance_templates        | description                   | text                     | YES         | null                                                            | null            | null                                              |
| compliance_templates        | ui_config                     | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| compliance_templates        | icon_name                     | character varying        | YES         | 'Award'::character varying                                      | null            | null                                              |
| compliance_templates        | color_scheme                  | character varying        | YES         | '#3B82F6'::character varying                                    | null            | null                                              |
| compliance_templates        | is_active                     | boolean                  | YES         | true                                                            | null            | null                                              |
| compliance_templates        | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| compliance_templates        | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_enrollments          | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | course_enrollments_pkey                           |
| course_enrollments          | user_id                       | uuid                     | YES         | null                                                            | UNIQUE          | course_enrollments_user_id_course_schedule_id_key |
| course_enrollments          | user_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | course_enrollments_user_id_fkey                   |
| course_enrollments          | course_schedule_id            | uuid                     | YES         | null                                                            | UNIQUE          | course_enrollments_user_id_course_schedule_id_key |
| course_enrollments          | course_schedule_id            | uuid                     | YES         | null                                                            | FOREIGN KEY     | course_enrollments_course_schedule_id_fkey        |
| course_enrollments          | enrollment_date               | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_enrollments          | status                        | character varying        | YES         | 'enrolled'::character varying                                   | null            | null                                              |
| course_enrollments          | attendance                    | character varying        | YES         | null                                                            | null            | null                                              |
| course_enrollments          | waitlist_position             | integer                  | YES         | null                                                            | null            | null                                              |
| course_enrollments          | attendance_notes              | text                     | YES         | null                                                            | null            | null                                              |
| course_enrollments          | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_enrollments          | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_schedules            | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | course_schedules_pkey                             |
| course_schedules            | course_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | course_schedules_course_id_fkey                   |
| course_schedules            | start_date                    | timestamp with time zone | NO          | null                                                            | null            | null                                              |
| course_schedules            | end_date                      | timestamp with time zone | NO          | null                                                            | null            | null                                              |
| course_schedules            | max_capacity                  | integer                  | YES         | 40                                                              | null            | null                                              |
| course_schedules            | current_enrollment            | integer                  | YES         | 0                                                               | null            | null                                              |
| course_schedules            | instructor_id                 | uuid                     | YES         | null                                                            | FOREIGN KEY     | course_schedules_instructor_id_fkey               |
| course_schedules            | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | course_schedules_location_id_fkey                 |
| course_schedules            | status                        | character varying        | YES         | 'scheduled'::character varying                                  | null            | null                                              |
| course_schedules            | recurring_pattern             | jsonb                    | YES         | null                                                            | null            | null                                              |
| course_schedules            | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_schedules            | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_templates            | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | course_templates_pkey                             |
| course_templates            | name                          | character varying        | NO          | null                                                            | null            | null                                              |
| course_templates            | code                          | character varying        | NO          | null                                                            | UNIQUE          | course_templates_code_key                         |
| course_templates            | description                   | text                     | YES         | null                                                            | null            | null                                              |
| course_templates            | duration_hours                | numeric                  | NO          | null                                                            | null            | null                                              |
| course_templates            | max_students                  | integer                  | YES         | 12                                                              | null            | null                                              |
| course_templates            | required_specialties          | ARRAY                    | YES         | null                                                            | null            | null                                              |
| course_templates            | course_components             | jsonb                    | YES         | null                                                            | null            | null                                              |
| course_templates            | is_active                     | boolean                  | YES         | true                                                            | null            | null                                              |
| course_templates            | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| course_templates            | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| email_batch_operations      | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | email_batch_operations_pkey                       |
| email_batch_operations      | user_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | email_batch_operations_user_id_fkey               |
| email_batch_operations      | status                        | text                     | NO          | 'PENDING'::text                                                 | null            | null                                              |
| email_batch_operations      | total_certificates            | integer                  | NO          | 0                                                               | null            | null                                              |
| email_batch_operations      | processed_certificates        | integer                  | NO          | 0                                                               | null            | null                                              |
| email_batch_operations      | successful_emails             | integer                  | NO          | 0                                                               | null            | null                                              |
| email_batch_operations      | failed_emails                 | integer                  | NO          | 0                                                               | null            | null                                              |
| email_batch_operations      | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| email_batch_operations      | completed_at                  | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| email_batch_operations      | batch_name                    | text                     | YES         | null                                                            | null            | null                                              |
| email_batch_operations      | error_message                 | text                     | YES         | null                                                            | null            | null                                              |
| email_batch_operations      | is_visible                    | boolean                  | YES         | true                                                            | null            | null                                              |
| email_batch_operations      | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| instructor_profiles         | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | instructor_profiles_pkey                          |
| instructor_profiles         | email                         | character varying        | NO          | null                                                            | UNIQUE          | instructor_profiles_email_key                     |
| instructor_profiles         | first_name                    | character varying        | YES         | null                                                            | null            | null                                              |
| instructor_profiles         | last_name                     | character varying        | YES         | null                                                            | null            | null                                              |
| instructor_profiles         | display_name                  | character varying        | YES         | null                                                            | null            | null                                              |
| instructor_profiles         | phone                         | character varying        | YES         | null                                                            | null            | null                                              |
| instructor_profiles         | specialties                   | ARRAY                    | YES         | null                                                            | null            | null                                              |
| instructor_profiles         | certification_level           | character varying        | YES         | 'CERTIFIED'::character varying                                  | null            | null                                              |
| instructor_profiles         | is_active                     | boolean                  | YES         | true                                                            | null            | null                                              |
| instructor_profiles         | max_students_per_session      | integer                  | YES         | 12                                                              | null            | null                                              |
| instructor_profiles         | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | instructor_profiles_location_id_fkey              |
| instructor_profiles         | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| instructor_profiles         | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| location_email_templates    | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | location_email_templates_pkey                     |
| location_email_templates    | location_id                   | uuid                     | NO          | null                                                            | FOREIGN KEY     | location_email_templates_location_id_fkey         |
| location_email_templates    | name                          | text                     | NO          | null                                                            | null            | null                                              |
| location_email_templates    | subject_template              | text                     | NO          | 'Your {{course_name}} Certificate from {{location_name}}'::text | null            | null                                              |
| location_email_templates    | body_template                 | text                     | NO          | null                                                            | null            | null                                              |
| location_email_templates    | is_default                    | boolean                  | NO          | false                                                           | null            | null                                              |
| location_email_templates    | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| location_email_templates    | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| location_templates          | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | location_templates_pkey                           |
| location_templates          | location_id                   | uuid                     | NO          | null                                                            | UNIQUE          | location_templates_location_id_template_id_key    |
| location_templates          | location_id                   | uuid                     | NO          | null                                                            | FOREIGN KEY     | location_templates_location_id_fkey               |
| location_templates          | template_id                   | uuid                     | NO          | null                                                            | UNIQUE          | location_templates_location_id_template_id_key    |
| location_templates          | template_id                   | uuid                     | NO          | null                                                            | FOREIGN KEY     | location_templates_template_id_fkey               |
| location_templates          | is_primary                    | boolean                  | NO          | false                                                           | null            | null                                              |
| location_templates          | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| locations                   | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | locations_pkey                                    |
| locations                   | name                          | text                     | NO          | null                                                            | null            | null                                              |
| locations                   | address                       | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | city                          | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | state                         | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | zip                           | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | country                       | text                     | YES         | 'USA'::text                                                     | null            | null                                              |
| locations                   | status                        | text                     | NO          | 'ACTIVE'::text                                                  | null            | null                                              |
| locations                   | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| locations                   | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| locations                   | email                         | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | phone                         | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | website                       | text                     | YES         | null                                                            | null            | null                                              |
| locations                   | logo_url                      | text                     | YES         | null                                                            | null            | null                                              |
| notifications               | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | notifications_pkey                                |
| notifications               | user_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | notifications_user_id_fkey                        |
| notifications               | title                         | text                     | NO          | null                                                            | null            | null                                              |
| notifications               | message                       | text                     | NO          | null                                                            | null            | null                                              |
| notifications               | type                          | text                     | NO          | null                                                            | null            | null                                              |
| notifications               | read                          | boolean                  | NO          | false                                                           | null            | null                                              |
| notifications               | read_at                       | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| notifications               | action_url                    | text                     | YES         | null                                                            | null            | null                                              |
| notifications               | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| notifications               | category                      | text                     | NO          | 'GENERAL'::text                                                 | null            | null                                              |
| notifications               | priority                      | text                     | NO          | 'NORMAL'::text                                                  | null            | null                                              |
| notifications               | badge_count                   | integer                  | YES         | 1                                                               | null            | null                                              |
| notifications               | is_dismissed                  | boolean                  | YES         | false                                                           | null            | null                                              |
| notifications               | metadata                      | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| notifications               | updated_at                    | text                     | YES         | null                                                            | null            | null                                              |
| profiles                    | id                            | uuid                     | NO          | null                                                            | PRIMARY KEY     | profiles_pkey                                     |
| profiles                    | id                            | uuid                     | NO          | null                                                            | FOREIGN KEY     | profiles_id_fkey                                  |
| profiles                    | role                          | text                     | NO          | 'IT'::text                                                      | null            | null                                              |
| profiles                    | display_name                  | text                     | YES         | null                                                            | null            | null                                              |
| profiles                    | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| profiles                    | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| profiles                    | email                         | text                     | YES         | null                                                            | null            | null                                              |
| profiles                    | status                        | text                     | NO          | 'ACTIVE'::text                                                  | null            | null                                              |
| profiles                    | compliance_status             | boolean                  | YES         | false                                                           | null            | null                                              |
| profiles                    | organization                  | character varying        | YES         | null                                                            | null            | null                                              |
| profiles                    | job_title                     | character varying        | YES         | null                                                            | null            | null                                              |
| profiles                    | phone                         | character varying        | YES         | null                                                            | null            | null                                              |
| profiles                    | user_id                       | uuid                     | YES         | null                                                            | FOREIGN KEY     | profiles_user_id_fkey                             |
| profiles                    | last_training_date            | date                     | YES         | null                                                            | null            | null                                              |
| profiles                    | next_training_due             | date                     | YES         | null                                                            | null            | null                                              |
| profiles                    | performance_score             | numeric                  | YES         | 0.00                                                            | null            | null                                              |
| profiles                    | training_hours                | integer                  | YES         | 0                                                               | null            | null                                              |
| profiles                    | certifications_count          | integer                  | YES         | 0                                                               | null            | null                                              |
| profiles                    | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | profiles_location_id_fkey                         |
| profiles                    | department                    | character varying        | YES         | null                                                            | null            | null                                              |
| profiles                    | supervisor_id                 | uuid                     | YES         | null                                                            | FOREIGN KEY     | profiles_supervisor_id_fkey                       |
| profiles                    | compliance_tier               | character varying        | YES         | 'basic'::character varying                                      | null            | null                                              |
| profiles                    | compliance_score              | integer                  | YES         | 0                                                               | null            | null                                              |
| profiles                    | last_login                    | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| profiles                    | team_count                    | integer                  | YES         | 0                                                               | null            | null                                              |
| profiles                    | pending_actions               | integer                  | YES         | 0                                                               | null            | null                                              |
| profiles                    | last_compliance_check         | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| profiles                    | compliance_notes              | text                     | YES         | null                                                            | null            | null                                              |
| profiles                    | tier_upgrade_eligible         | boolean                  | YES         | false                                                           | null            | null                                              |
| profiles                    | tier_upgrade_requested_at     | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| profiles                    | compliance_reminder_frequency | integer                  | YES         | 30                                                              | null            | null                                              |
| rosters                     | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | rosters_pkey                                      |
| rosters                     | name                          | text                     | NO          | null                                                            | null            | null                                              |
| rosters                     | created_by                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | rosters_created_by_fkey                           |
| rosters                     | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| rosters                     | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| rosters                     | status                        | text                     | NO          | 'ACTIVE'::text                                                  | null            | null                                              |
| rosters                     | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | rosters_location_id_fkey                          |
| rosters                     | course_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | rosters_course_id_fkey                            |
| rosters                     | issue_date                    | text                     | YES         | null                                                            | null            | null                                              |
| rosters                     | metadata                      | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| rosters                     | certificate_count             | integer                  | YES         | 0                                                               | null            | null                                              |
| rosters                     | description                   | text                     | YES         | null                                                            | null            | null                                              |
| rosters                     | instructor_name               | text                     | YES         | null                                                            | null            | null                                              |
| rosters                     | roster_type                   | character varying        | YES         | 'CERTIFICATE'::character varying                                | null            | null                                              |
| session_enrollments         | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | session_enrollments_pkey                          |
| session_enrollments         | session_id                    | uuid                     | YES         | null                                                            | UNIQUE          | session_enrollments_session_id_student_id_key     |
| session_enrollments         | session_id                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | session_enrollments_session_id_fkey               |
| session_enrollments         | student_id                    | uuid                     | YES         | null                                                            | UNIQUE          | session_enrollments_session_id_student_id_key     |
| session_enrollments         | student_id                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | session_enrollments_student_id_fkey               |
| session_enrollments         | enrollment_date               | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| session_enrollments         | attendance_status             | character varying        | YES         | 'REGISTERED'::character varying                                 | null            | null                                              |
| session_enrollments         | completion_status             | character varying        | YES         | 'NOT_STARTED'::character varying                                | null            | null                                              |
| session_enrollments         | assessment_score              | numeric                  | YES         | null                                                            | null            | null                                              |
| session_enrollments         | notes                         | text                     | YES         | null                                                            | null            | null                                              |
| session_enrollments         | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| session_enrollments         | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_enrollment_profiles | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | student_enrollment_profiles_pkey                  |
| student_enrollment_profiles | email                         | character varying        | NO          | null                                                            | UNIQUE          | student_enrollment_profiles_email_key             |
| student_enrollment_profiles | first_name                    | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | last_name                     | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | display_name                  | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | thinkific_user_id             | character varying        | YES         | null                                                            | UNIQUE          | student_enrollment_profiles_thinkific_user_id_key |
| student_enrollment_profiles | external_student_id           | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | is_active                     | boolean                  | YES         | true                                                            | null            | null                                              |
| student_enrollment_profiles | enrollment_status             | character varying        | YES         | 'ACTIVE'::character varying                                     | null            | null                                              |
| student_enrollment_profiles | imported_from                 | character varying        | YES         | 'THINKIFIC'::character varying                                  | null            | null                                              |
| student_enrollment_profiles | import_date                   | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_enrollment_profiles | last_sync_date                | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | sync_status                   | character varying        | YES         | 'SYNCED'::character varying                                     | null            | null                                              |
| student_enrollment_profiles | student_metadata              | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| student_enrollment_profiles | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_enrollment_profiles | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_enrollment_profiles | phone                         | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | company                       | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | city                          | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | province                      | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | postal_code                   | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | first_aid_level               | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | cpr_level                     | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | course_length                 | integer                  | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | assessment_status             | character varying        | YES         | 'PENDING'::character varying                                    | null            | null                                              |
| student_enrollment_profiles | completion_status             | character varying        | YES         | 'NOT_STARTED'::character varying                                | null            | null                                              |
| student_enrollment_profiles | instructor_name               | character varying        | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_enrollment_profiles_location_id_fkey      |
| student_enrollment_profiles | online_completed_at           | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | practical_completed_at        | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| student_enrollment_profiles | notes                         | text                     | YES         | null                                                            | null            | null                                              |
| student_roster_members      | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | student_roster_members_pkey                       |
| student_roster_members      | roster_id                     | uuid                     | NO          | null                                                            | UNIQUE          | student_roster_members_unique                     |
| student_roster_members      | roster_id                     | uuid                     | NO          | null                                                            | FOREIGN KEY     | student_roster_members_roster_id_fkey             |
| student_roster_members      | student_profile_id            | uuid                     | NO          | null                                                            | UNIQUE          | student_roster_members_unique                     |
| student_roster_members      | student_profile_id            | uuid                     | NO          | null                                                            | FOREIGN KEY     | student_roster_members_student_profile_id_fkey    |
| student_roster_members      | enrollment_status             | text                     | NO          | 'enrolled'::text                                                | null            | null                                              |
| student_roster_members      | enrolled_at                   | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| student_roster_members      | enrolled_by                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_roster_members_enrolled_by_fkey           |
| student_roster_members      | notes                         | text                     | YES         | null                                                            | null            | null                                              |
| student_roster_members      | created_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| student_roster_members      | updated_at                    | timestamp with time zone | NO          | now()                                                           | null            | null                                              |
| student_roster_members      | attendance_status             | character varying        | YES         | 'pending'::character varying                                    | null            | null                                              |
| student_roster_members      | practical_score               | numeric                  | YES         | null                                                            | null            | null                                              |
| student_roster_members      | written_score                 | numeric                  | YES         | null                                                            | null            | null                                              |
| student_roster_members      | completion_status             | character varying        | YES         | 'not_started'::character varying                                | null            | null                                              |
| student_roster_members      | completion_date               | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| student_roster_members      | assessed_by                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_roster_members_assessed_by_fkey           |
| student_roster_members      | course_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_roster_members_course_id_fkey             |
| student_rosters             | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | student_rosters_pkey                              |
| student_rosters             | roster_name                   | character varying        | NO          | null                                                            | null            | null                                              |
| student_rosters             | course_name                   | character varying        | NO          | null                                                            | null            | null                                              |
| student_rosters             | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_rosters_location_id_fkey                  |
| student_rosters             | instructor_id                 | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_rosters_instructor_id_fkey                |
| student_rosters             | max_capacity                  | integer                  | YES         | 50                                                              | null            | null                                              |
| student_rosters             | current_enrollment            | integer                  | YES         | 0                                                               | null            | null                                              |
| student_rosters             | roster_status                 | character varying        | YES         | 'DRAFT'::character varying                                      | null            | null                                              |
| student_rosters             | scheduled_start_date          | date                     | YES         | null                                                            | null            | null                                              |
| student_rosters             | scheduled_end_date            | date                     | YES         | null                                                            | null            | null                                              |
| student_rosters             | created_by                    | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_rosters_created_by_fkey                   |
| student_rosters             | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_rosters             | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| student_rosters             | roster_type                   | character varying        | YES         | 'TRAINING'::character varying                                   | null            | null                                              |
| student_rosters             | course_sequence               | jsonb                    | YES         | '{"items": [], "totalDuration": 0}'::jsonb                      | null            | null                                              |
| student_rosters             | availability_booking_id       | uuid                     | YES         | null                                                            | FOREIGN KEY     | student_rosters_availability_booking_id_fkey      |
| student_rosters             | availability_booking_id       | uuid                     | YES         | null                                                            | UNIQUE          | unique_availability_booking_assignment            |
| student_rosters             | availability_booking_id       | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_student_rosters_availability_booking           |
| student_rosters             | status                        | text                     | YES         | 'ACTIVE'::text                                                  | null            | null                                              |
| student_rosters             | course_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_student_rosters_course_id                      |
| team_members                | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | team_members_pkey                                 |
| team_members                | team_id                       | uuid                     | NO          | null                                                            | UNIQUE          | team_members_team_id_user_id_key                  |
| team_members                | team_id                       | uuid                     | NO          | null                                                            | FOREIGN KEY     | fk_team_members_team_id                           |
| team_members                | team_id                       | uuid                     | NO          | null                                                            | FOREIGN KEY     | team_members_team_id_fkey                         |
| team_members                | user_id                       | uuid                     | NO          | null                                                            | UNIQUE          | team_members_team_id_user_id_key                  |
| team_members                | user_id                       | uuid                     | NO          | null                                                            | FOREIGN KEY     | fk_team_members_user_id                           |
| team_members                | user_id                       | uuid                     | NO          | null                                                            | FOREIGN KEY     | team_members_user_id_fkey                         |
| team_members                | role                          | text                     | NO          | 'MEMBER'::text                                                  | null            | null                                              |
| team_members                | created_at                    | timestamp with time zone | YES         | timezone('utc'::text, now())                                    | null            | null                                              |
| team_members                | updated_at                    | timestamp with time zone | YES         | timezone('utc'::text, now())                                    | null            | null                                              |
| team_members                | location_assignment           | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_team_members_location_assignment               |
| team_members                | location_assignment           | uuid                     | YES         | null                                                            | FOREIGN KEY     | team_members_location_assignment_fkey             |
| team_members                | assignment_start_date         | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| team_members                | assignment_end_date           | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| team_members                | team_position                 | character varying        | YES         | null                                                            | null            | null                                              |
| team_members                | permissions                   | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| team_members                | status                        | character varying        | YES         | 'active'::character varying                                     | null            | null                                              |
| team_members                | skills                        | jsonb                    | YES         | '[]'::jsonb                                                     | null            | null                                              |
| team_members                | emergency_contact             | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| team_members                | notes                         | text                     | YES         | null                                                            | null            | null                                              |
| team_members                | last_activity                 | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| team_members                | invitation_sent_at            | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| team_members                | invitation_accepted_at        | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| teams                       | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | teams_pkey                                        |
| teams                       | name                          | text                     | NO          | null                                                            | null            | null                                              |
| teams                       | description                   | text                     | YES         | null                                                            | null            | null                                              |
| teams                       | metadata                      | jsonb                    | YES         | '{"visibility": "private"}'::jsonb                              | null            | null                                              |
| teams                       | created_at                    | timestamp with time zone | NO          | timezone('utc'::text, now())                                    | null            | null                                              |
| teams                       | updated_at                    | timestamp with time zone | NO          | timezone('utc'::text, now())                                    | null            | null                                              |
| teams                       | created_by                    | uuid                     | NO          | auth.uid()                                                      | FOREIGN KEY     | fk_teams_created_by                               |
| teams                       | created_by                    | uuid                     | NO          | auth.uid()                                                      | FOREIGN KEY     | teams_created_by_fkey                             |
| teams                       | parent_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_teams_parent_id                                |
| teams                       | parent_id                     | uuid                     | YES         | null                                                            | FOREIGN KEY     | teams_parent_id_fkey                              |
| teams                       | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_teams_location_id                              |
| teams                       | provider_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | fk_teams_provider_id                              |
| teams                       | team_type                     | character varying        | YES         | 'operational'::character varying                                | null            | null                                              |
| teams                       | status                        | character varying        | YES         | 'active'::character varying                                     | null            | null                                              |
| teams                       | performance_score             | numeric                  | YES         | 0.00                                                            | null            | null                                              |
| teams                       | monthly_targets               | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| teams                       | current_metrics               | jsonb                    | YES         | '{}'::jsonb                                                     | null            | null                                              |
| teams                       | archived_at                   | timestamp with time zone | YES         | null                                                            | null            | null                                              |
| teams                       | archived_by                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | teams_archived_by_fkey                            |
| teams                       | parent_team_id                | uuid                     | YES         | null                                                            | FOREIGN KEY     | teams_parent_team_id_fkey                         |
| teams                       | split_from_team_id            | uuid                     | YES         | null                                                            | FOREIGN KEY     | teams_split_from_team_id_fkey                     |
| training_sessions           | id                            | uuid                     | NO          | gen_random_uuid()                                               | PRIMARY KEY     | training_sessions_pkey                            |
| training_sessions           | title                         | character varying        | NO          | null                                                            | null            | null                                              |
| training_sessions           | description                   | text                     | YES         | null                                                            | null            | null                                              |
| training_sessions           | instructor_id                 | uuid                     | YES         | null                                                            | FOREIGN KEY     | training_sessions_instructor_id_fkey              |
| training_sessions           | location_id                   | uuid                     | YES         | null                                                            | FOREIGN KEY     | training_sessions_location_id_fkey                |
| training_sessions           | session_date                  | date                     | NO          | null                                                            | null            | null                                              |
| training_sessions           | start_time                    | time without time zone   | NO          | null                                                            | null            | null                                              |
| training_sessions           | end_time                      | time without time zone   | NO          | null                                                            | null            | null                                              |
| training_sessions           | max_capacity                  | integer                  | YES         | 12                                                              | null            | null                                              |
| training_sessions           | current_enrollment            | integer                  | YES         | 0                                                               | null            | null                                              |
| training_sessions           | session_type                  | character varying        | YES         | 'COURSE'::character varying                                     | null            | null                                              |
| training_sessions           | course_template               | character varying        | YES         | null                                                            | null            | null                                              |
| training_sessions           | status                        | character varying        | YES         | 'SCHEDULED'::character varying                                  | null            | null                                              |
| training_sessions           | created_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |
| training_sessions           | updated_at                    | timestamp with time zone | YES         | now()                                                           | null            | null                                              |